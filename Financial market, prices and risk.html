<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>1 金融市场，价格和风险</title>

<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
   white-space: pre-wrap;
}

pre code {
   display: block; padding: 0.5em;
}

code.r, code.cpp {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: rgb(88, 72, 246)
   }

   pre .number {
     color: rgb(0, 0, 205);
   }

   pre .comment {
     color: rgb(76, 136, 107);
   }

   pre .keyword {
     color: rgb(0, 0, 255);
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: rgb(3, 106, 7);
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>


<!-- MathJax scripts -->
<script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



</head>

<body>
<h1>1 金融市场，价格和风险</h1>

<h2>1.1 价格，回报率和股票指数</h2>

<h3>1.1.1 股票指数</h3>

<h4>价格权重指数</h4>

<p>价格权重指数是根据价格来定义各个股票的权重，价格高则权重高，但这个方法并不能真正反映基础市场的价值</p>

<h4>价值权重指数</h4>

<p>价值权重指数是根据整个市场已发行股票的价值来定义权重的</p>

<h3>1.1.2 价格和收益</h3>

<p>\(  p_t=\frac{p_t-p_{t-1}}{p_{t-1}} \)</p>

<h2>1.2 S&amp;P500 回报率</h2>

<pre><code class="r">library(&quot;tseries&quot;)  # load the tseries library
library(&quot;zoo&quot;)
</code></pre>

<pre><code>## Attaching package: &#39;zoo&#39;
</code></pre>

<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
## as.Date, as.Date.numeric
</code></pre>

<pre><code class="r">price = get.hist.quote(instrument = &quot;^gspc&quot;, start = &quot;2000-01-01&quot;, quote = &quot;AdjClose&quot;)  # download the prices,from January 1, 2000 until today
</code></pre>

<pre><code>## time series starts 2000-01-03
</code></pre>

<pre><code class="r">y = diff(log(price))  # convert the prices into returns
plot(y)  # plot the returns
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-1"/> </p>

<pre><code class="r">y = coredata(y)  # strip date information from returns
library(&quot;moments&quot;)
</code></pre>

<pre><code>## Error: there is no package called &#39;moments&#39;
</code></pre>

<pre><code class="r">sd(y)
</code></pre>

<pre><code>## [1] 0.0134
</code></pre>

<pre><code class="r">min(y)
</code></pre>

<pre><code>## [1] -0.0947
</code></pre>

<pre><code class="r">max(y)
</code></pre>

<pre><code>## [1] 0.1096
</code></pre>

<pre><code class="r">skewness(y)
</code></pre>

<pre><code>## Error: could not find function &quot;skewness&quot;
</code></pre>

<pre><code class="r">kurtosis(y)
</code></pre>

<pre><code>## Error: could not find function &quot;kurtosis&quot;
</code></pre>

<pre><code class="r">acf(y, 1)
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-1"/> </p>

<pre><code class="r">acf(y^2, 1)
</code></pre>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAAAgVBMVEX9/v0AAAAAADkAAGUAAP8AOTkAOWUAOY8AZo8AZrU5AAA5ADk5AGU5OWU5OY85j485j9plAABlADllAGVlOQBlOTllOY9lZmVltbVltf2POQCPOTmPZgCPtY+P29qP2/21ZgC124+1/v3ajzna24/a/v39tWX924/9/rX9/tr9/v1JTQF2AAAAK3RSTlP///////////////////////////////////////////////////////8AI8mn0AAAAAlwSFlzAAALEgAACxIB0t1+/AAAChxJREFUeJzt3Qt32kYCQOHK2W0KSVtIug9Id6FWg4D//wOrkXgIGydSZ4xH3Pud00IeHgOXkQbFoB/2QvrhrW+A3obhoQwPZXgow0MZHsrwUIaHMjyU4aEMD2V4KMNDGR7K8FCGhzI8lOGhDA9leChW+N2ymByvb+fvv27n7x7DtaIoZuEy/AqCFb6aFqe2IXxzZVM0Joa/X2Xxn2Kxb2Z+8d/DjK+vz8KfPKza8GU7/cOTpH2WhN9YvPENTw8Vfrd898d00navteGraZj5u+WinfHr0/Rv/8rhN2ZvfdtTQ4WvppO6/WN9Wf+vPITfnKK2T4OHVX3lYdU+H8LX1JfNV90XVPiy3mSH/zZhiXdc3F2Gb/4o/KVmxte5DyuA+ulwX0jhD1v4yWX4y039KXyzj697G378mpRhGl9s6uup3VncnTb1zVesi8Vxk39vSOHLZqNex7xY3D15OXdc3LXPktNv3F19UPg6d3hVVtZVQ/lfXziA030510z89T12J4W/AnXI5hI6fHmPU7kndPj1PR6S6wkdnszwUIaHMjyU4aEMD2V4KMNDGR7K8FCGhzI8lOGhDA9leCjDQxkeyvBQhocyPJThoQwPZXgow0MZHiomfKGcvWL4iK/VazM8lOGhDA9leKjo8KePDBo6tN5UbPjwOWDB5vlnRxg+Z7Hht58fLy77D6035YyHit7Ht5/m6z5+bFzVQxkeKlX4zuLuhX8G8HmQldvNeMNnxfBQhocyPFT0kbv5YSX3/IW84XMWPeN3y5fOwGT4nMVv6refXjgfi+Fz5j4eyvBQhocyPJThoQwPZXgow0MZHsrwUIaHMjyU4aEMD2V4KMNDGR7K8FCGhzI8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" alt="plot of chunk unnamed-chunk-1"/> </p>

<pre><code class="r">jarque.bera.test(y)
</code></pre>

<pre><code>## 
##  Jarque Bera Test
## 
## data:  y
## X-squared = 7714, df = 2, p-value &lt; 2.2e-16
</code></pre>

<pre><code class="r">Box.test(y, lag = 20, type = c(&quot;Ljung-Box&quot;))
</code></pre>

<pre><code>## 
##  Box-Ljung test
## 
## data:  y
## X-squared = 103.1, df = 20, p-value = 3.485e-13
</code></pre>

<pre><code class="r">Box.test(y^2, lag = 20, type = c(&quot;Ljung-Box&quot;))
</code></pre>

<pre><code>## 
##  Box-Ljung test
## 
## data:  y^2
## X-squared = 4621, df = 20, p-value &lt; 2.2e-16
</code></pre>

<h2>1.3 回报率的程式化因子</h2>

<ul>
<li>波动集群</li>
<li>后尾</li>
<li>非线性相关</li>
</ul>

<h2>1.4 波动率</h2>

<p>收益率的标准偏差称为波动率</p>

<pre><code class="r">library(MASS, stats)  # load stats and MASS package
q = acf(y, 20)
</code></pre>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAAAeFBMVEX9/v0AAAAAADkAAGUAAP8AOTkAOWUAOY8AZo8AZrU5AAA5ADk5AGU5OY85j485j9plAABlADllAGVlOQBlOTllZmVltbVltf2POQCPOTmPOWWPtY+P2/21ZgC124+1/v3ajzna24/a/v39tWX924/9/rX9/tr9/v3HOthfAAAAKHRSTlP///////////////////////////////////////////////////8AvqouGAAAAAlwSFlzAAALEgAACxIB0t1+/AAACidJREFUeJzt3Qt32kYCQOHK3W0W+oCkD+gu1LS8/v8/XI0wrolxLXlmYEb33nNanMQMIh+DhGKYb46G7Jt7b4DdJ+GhCQ9NeGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aCz4w7KZnL/ezz/9tZ9/+xi+appmFi7DryCx4HfT5tk2wHdfbJuuifDjbdP82iyO3cxvfnua8e3Xs/AnD6sT/OY0/cOD5PQoCb+xuPOGpw8Ff1h++8d0cnJvO8HvpmHmH5aL04xfP0//07c8/cbs3tueOhT8bjpp7R/by/Z/myf47TPq6WHwsGq/eFidHg/hOu1ld61xhYLftE/Z4b9tOMQ7H9xdwnd/FL6pm/Et99MRQPtwGFck+Kdn+Mkl/OVT/TN8t49vvYWvv44yTOOLp/p2ar84uHt+qu+usW4W56f8sUWC33RP6i3mxcHdVy/nzgd3p0fJ82+MTh8E33KHV2WbVjXI//TGCZyXL+e6ib8eozsJ/kqoUzaXoeE3Y5zKPUPDr8d4Sq5naHhywkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIcmPDThoQkPTXhoMfCNlVxG+IjrWu6EhyY8NOGhCQ8tGv75I4OGDm13LRY+fA5YaPv6syOEL7lY+P2Xx4vL/kPbXXPGQ4vex58+zdd9fG15VA9NeGip4F8c3L3xzwA+DorqdjNe+KISHprw0ISHFn3mbv50JPf6hbzwJRc94w/Lt1ZgEr7k4p/q95/fWI9F+JJzHw9NeGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGh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" alt="plot of chunk unnamed-chunk-2"/> </p>

<pre><code class="r">plot(q[2:20])
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-2"/> </p>

<pre><code class="r">q = acf(y^2, 20)
</code></pre>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAAAeFBMVEX9/v0AAAAAADkAAGUAAP8AOTkAOWUAOY8AZo8AZrU5AAA5ADk5AGU5OY85j485j9plAABlADllAGVlOQBlOTllZmVltbVltf2POQCPOTmPOWWPtY+P2/21ZgC124+1/v3ajzna24/a/v39tWX924/9/rX9/tr9/v3HOthfAAAAKHRSTlP///////////////////////////////////////////////////8AvqouGAAAAAlwSFlzAAALEgAACxIB0t1+/AAACzhJREFUeJzt3Y2a2sYZQOFo08aFOAU7acEtdIn52fu/w2oEbFgWvBKjQTOcc54nYb22Pwm/CAnZoJ9eDNlPQ6+ADZPw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIcmPDQW/G5ejY5fb6efvm+nPz+Hr6qqmoTb8CNILPjNuHq1DfDNF+uqaST847aq/lXNXpotv/r3YYuvv56En3la7OFX+80/PEj2j5LwjdnAK95/KPjd/Of/jUd797o9/GYctvzdfLbf4pevm//+lxy+MRl63fsOBb8Zj2r75/q2/t/qAL9+Rd0/DJ4W9RdPi/3jIfye+rb5XY8VCn5VP2WH/9bhEO94cPcWvvmp8IuaLb7mPhwB1A+Hx4oEf3iGH72Ff/tU/wrf7ONrb+HLr6EMm/Gbp/p60z45uHt9qm9+x7KaHZ/yHy0S/Kp5Uq8x3xzcnb2cOx7c7R8lr994OH0QfM0dXpWtatUg/88rJ3BOX841G/7yEd1J8BdCnbJ5Gxp+9YibcsvQ8MtHPCXXMjQ8OeGhCQ9NeGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8tBj4ynIuIXzE77XUCQ9NeGjCQxMeWjT860cGdR1tgxYLHz4HLLR+/9kRwudcLPz26/Ob2/ajbdDc4qFF7+P3n+brPr60PKqHJjy0vuBPDu6u/DWAj4Osut8WL3xWCQ9NeGjCQ4s+czc9HMm9fyEvfM5Fb/G7+bUrMAmfc/FP9dsvV67HInzOuY+HJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHJjw04aEJDy0afjOuRqs2lxEXPqti4XffFi+rUe3/2/cPRgufVbHw4SrSq8mbq0lfGS18VrnFQ+tjHz9xH19eHtVDEx5aX/AnB3fVsU5LsvvmFg9NeGh9HNWHPKovrOjX8fNZc7v+5Ov4ourjzN3p7fXRwmeVWzy06H38duo+vsQ8qocmPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIcmPDThoUXDb8az3byq3l+LSPisi4UPV6Fazrx+fHHFwm+/Pu++LbzuXHFFP9XXm/t68vKyHn00Wvisij+4WzbXnXvvLnzWeVQPTXhofcGfHNxVxzotye6bWzw04aH1cObOq0mXWB9n7kJeP76wejhz9+b2+mjhs8otHlr0Pn47dR9fYh7VQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEh9YC/sK/nL5ltPBZ1RL+wieddB0tfFYJD014aG3gp4f3u19400SH0cJnlUf10ISH1gp+OQpP+LO40cJnVRv4VfNO2O10EjVa+Kxqc3D3ZdF83fXIXvic63DmrusZPOFzrgX8Dz77oMto4bOqzT5+82t4rt+MOx7dCZ9zrY7qm1M4HU/fCJ93vo6HJjy09vArz9U/Ui3h11X1tIgbLXxWtTqqH9fqy65nbIXPutYncIR/rNps8eHV3Ez4x6rtwd3Sffxj1f6ofjf3qP6B8nU8NOGhCQ9NeGjCQxMemvDQhIcmPLR+4DefL5zUEz7nYuF/8I5K4XMueovfTmtyt/ji6uGpfjv99KfwpdXLPn4zvvQXd8LnnEf10ISH1hf8yTsqq2OdlmT3zS0emvDQouE3Yy8jXmKx8D9487zwORd9yvb6x2UIn3Nu8dB6OFff6z7eh8edyu2oXvg7JTw04aEJH1FRK3uW8BEVtbJnCR9RUSt7lvARFbWyZwkfUVEre5bwERW1smcJH1FRK3uW8BEVtbJnCR9RUSt7lvARFbWyZwkfUVEre5bwERW1smcJH1FRK3uW8BEVtbJnPQ78AArCtxktfFYJH5HwbUYLn1XCRyR8m9HCZxUNvlcr4duMFj6rHhq+3bduT/g2o4XPqkLhb1YW/pDwEQnfZnRR8A/4N0pnCR+xGsK3GS18VgkfsRrCtxnNgC/msSB8xGoI32a08FklfMRqCN9mdOnwA5wgSpnwg8wfPuEHmT98wg8y/+Z6my/8IPNvTvj+vjXE/JsTvr9vDTH/5oTv71tDzO9zLXqbfZrwaeYnXovbZp8mfJr5idfittmnCZ9mfuK1uG32acKnmZ94LW6bfZrwaeYnXovbZp9GgL+0SOE/HLAZV0+L/q5CJfydFhkLH65CtZtPhP/BsJvLGX4PvhwJ32l+u3KGP1x3bvX3z8J3mJ94kS3mR+/jt9NJuFm9v/Cc8NfnJ15ki/ke1Qt/KeHTzE+8yBbz+4I/ObirjnVaUqdfJXz0/EG3+Dz+lIS/kPBp5ideZIv50fCb8e1Xk84XRviPxkVdPz5fGOE/Gnc8qLvpzF2+MMJ/NM4t/qb5iRfZYn70Pn47dR/ffX7iRbaYX8BRvfAp5gv/kPAf/zLhhb+U8GnmJ16k8LnOT7xI4XOdn3iRwuc6P/Eihc91fuJFCp/r/MSLFD7X+YkXKXyu8xMvUvhc5ydepPC5zk+8SOFznZ94kcLnOj/xIoXPdX7iRQrv/GvfEh46X3jofOGh84WHzhceOl946HzhofOFh84XHjpfeOh84aHzhYfOFx46X3jofOGh84WHzhceOl946HzhofOFh84XHjpfeOh84aHzhYfOFx46X3jofOGh84WHzhceOl946HzhofMTwv8t9Ndtdfbjy7fVBz9//db5nea7xUPnCw+dLzx0fjS8Fxwsc34svJcfK3R+LLwXHCx0vls8dH70Pt4LDpY5Pxr+esLnPF946Py+4E8O7ioroZ7gL/TBaBs04aFFw7c+c2dZdb/X8ZZV9ztzZ1nlFg/tfmfuLKs8qocmPDThoSWEv/Ffg3p7l1u3eGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHlhLeci4d/PnjoL9Rzk8+X3jofOGh84WHzhceOl946HzhofN7hLeSEh6a8NCEhyY8NOGhCQ9NeGjCQxMeWl/w22n1/tORemxVXfwYnr7afH5Oeh+a+cnuQ/gowlnH9e8JPnw21mrUz6yLLWcJh7+sA0jC+9DMT3Yftl8WL5tfF93Wvyf48Cl4zaM6Ubtvi2Sza5Gn/9brnu4+7Ocnuw/roL2cdVv/nuA3v31vHnipaj5zLeFGH/7AUt6HMD/pfahXvNv69wQfPv4wJXz9TJZ0qw8wKe9D88BKeB9280nH9S9ki29KuJ+/xxbflOY+bKeTrgaF7OObEsOnvA9p4TfjMHWQfXx4qkl5VB+exnb/SftyLuV9OO5KktyHvXvH9S/odfxTwj3JvV7HJ7kPq+aNM7NBXsdbaQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQ6PDJ/834bkmvPDIjvB/vdP4lz8SvyEoj4Rv4Jt3GtdfLicv65T/fj+fhH99qt9+fQ7vQkr7juxsEv74prbwaRXhfYfCIzo+1U9n4Uu3eEwH+OP7193HUwpH81U1Cm88/OX35n2H/3CLZwZ5ZS/8abt52ndjZ5Tw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMe2v8BsYkhvp396UoAAAAASUVORK5CYII=" alt="plot of chunk unnamed-chunk-2"/> </p>

<pre><code class="r">plot(q[2:20])
</code></pre>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAAAdVBMVEX9/v0AAAAAADkAAGUAAP8AOTkAOWUAOY8AZo8AZrU5AAA5ADk5AGU5OY85j485j9plAABlADllAGVlOQBlOTllZmVltbVltf2POQCPOTmPOWWPtY+P2/21ZgC124+1/v3ajzna/v39tWX924/9/rX9/tr9/v1rbiYTAAAAJ3RSTlP//////////////////////////////////////////////////wCDVpfZAAAACXBIWXMAAAsSAAALEgHS3X78AAAMO0lEQVR4nO2di3baSBZFW/ZMu013BnfmATNjxpjX/3/iqATYRrGjeqhKdXX2XiuBKPfoltiUXgnmlxNI8svUA4BpQLwoiBcF8aIgXhTEi4J4URAvCuJFQbwoiBcF8aIgXhTEi4J4URAvCuJFQbwoiBcF8aJoiT+um8fr88PTw+vh6f7FPWuaZuke3Z9E0BK/XzRvbp347smu6XhE/HzZNv9sVqdu5jf/usz49vnS/c3d81n89jz93Zvk/C5xC1YTD3x8pMQf1/f/Wzyevbecxe8XbuYf16vzjN+8Tf9zyWXBcuqxj42U+P3isXX/0j62v20v4ndvUs9vg7vn9snd8/n94DLtY5eaF1Lit+0u2/3auVO868ndrfjur1xRN+Nb3ZczgPbtMC+UxF/28I+34m939W/iu2N86xvx9ulUuml8s6tvp/aHk7u3XX2X2DSr6y5/biiJ33Y79Vbmzcld73LuenJ3fpe8LZidfSHxrW53VbZtrTrzf/viBs7Hy7lu4m/m6F1J/CdI3bK5RVr8do5T2RNp8Zs53pLzRFq8MogXBfGiIF4UxIuCeFEQLwriRUG8KIgXBfGiIF4UxIuCeFEQLwriRUG8KIgXBfGiIF4UxIuCeFEQLwriRUG8KCniG6iZjOITspAbxIuCeFEQLwriRUG8KIgXBfGiIF4UxIuCeFEQL0o58bwPqgLxoiBeFMSLgnhREC8K4kVBvCiIFwXxoiBeFMSLgnhfrI+/B+J9sT7+Hoj3xfr4eyDeF+vj74F4X6yPvwfifbE+/h6I98X6+Hsg3hfr4++BeF+sj78H4n2xPv4eiPfF+vh7IN4X6+PvgXhfrI+/B+J9sT7+Hoj3xfr4eyDeF+vj74F4X6yPvwfifbE+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" alt="plot of chunk unnamed-chunk-2"/> </p>

<pre><code class="r">b = Box.test(y, lag = 21, type = &quot;Ljung-Box&quot;)
b
</code></pre>

<pre><code>## 
##  Box-Ljung test
## 
## data:  y
## X-squared = 111.2, df = 21, p-value = 2.842e-14
</code></pre>

<h2>1.6 后尾的定义</h2>

<h3>1.6.1 后尾的检验</h3>

<p>相比于同方差同均值的正态分布而言，具有更多极端值的分布称之为后尾分布</p>

<h1>2单变量的波动模型</h1>

<p>本章主要讲述了单边量的波动模型，包括ARCH模型，GARCH模型，</p>

<p>Listing 2.1 Garch and estmation in R</p>

<pre><code class="r">library(tseries)
library(zoo)
p = get.hist.quote(instrument = &quot;^gspc&quot;, start = &quot;2005-01-01&quot;, end = &quot;2009-12-31&quot;, 
    quote = &quot;AdjClose&quot;, quiet = T)  # download the prices
y = diff(log(p)) * 100  # get returns and multiply them by 100 (so they are expressed in returns)
y = y - mean(y)  # de-mean (set mean to zero)
library(fGarch)
</code></pre>

<pre><code>## Loading required package: timeDate
</code></pre>

<pre><code>## Loading required package: timeSeries
</code></pre>

<pre><code>## Attaching package: &#39;timeSeries&#39;
</code></pre>

<pre><code>## The following object is masked from &#39;package:zoo&#39;:
## 
## time&lt;-
</code></pre>

<pre><code>## Loading required package: fBasics
</code></pre>

<pre><code>## Attaching package: &#39;fBasics&#39;
</code></pre>

<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
## norm
</code></pre>

<pre><code class="r">garchFit(~garch(1, 0), data = y, include.mean = FALSE)
</code></pre>

<pre><code>## 
## Series Initialization:
##  ARMA Model:                arma
##  Formula Mean:              ~ arma(0, 0)
##  GARCH Model:               garch
##  Formula Variance:          ~ garch(1, 0)
##  ARMA Order:                0 0
##  Max ARMA Order:            0
##  GARCH Order:               1 0
##  Max GARCH Order:           1
##  Maximum Order:             1
##  Conditional Dist:          norm
##  h.start:                   2
##  llh.start:                 1
##  Length of Series:          1258
##  Recursion Init:            mci
##  Series Scale:              1.517
## 
## Parameter Initialization:
##  Initial Parameters:          $params
##  Limits of Transformations:   $U, $V
##  Which Parameters are Fixed?  $includes
##  Parameter Matrix:
##                     U         V params includes
##     mu     -2.045e-16 2.045e-16    0.0    FALSE
##     omega   1.000e-06 1.000e+02    0.1     TRUE
##     alpha1  1.000e-08 1.000e+00    0.1     TRUE
##     gamma1 -1.000e+00 1.000e+00    0.1    FALSE
##     delta   0.000e+00 2.000e+00    2.0    FALSE
##     skew    1.000e-01 1.000e+01    1.0    FALSE
##     shape   1.000e+00 1.000e+01    4.0    FALSE
##  Index List of Parameters to be Optimized:
##  omega alpha1 
##      2      3 
##  Persistence:                  0.1 
## 
## 
## --- START OF TRACE ---
## Selected Algorithm: nlminb 
## 
## R coded nlminb Solver: 
## 
##   0:     3619.7535: 0.100000 0.100000
##   1:     1736.5493:  1.05877 0.384182
##   2:     1734.9231: 0.910957 0.861833
##   3:     1727.5654: 0.863579 0.885867
##   4:     1706.4504: 0.384832  1.00000
##   5:     1701.9170: 0.664453  1.00000
##   6:     1686.8002: 0.680349 0.500253
##   7:     1684.6694: 0.630763 0.457624
##   8:     1683.9466: 0.591071 0.552831
##   9:     1683.9427: 0.593749 0.554564
##  10:     1683.9425: 0.593205 0.554806
##  11:     1683.9425: 0.593178 0.554881
##  12:     1683.9425: 0.593177 0.554892
## 
## Final Estimate of the Negative LLH:
##  LLH:  2208    norm LLH:  1.755 
##  omega alpha1 
## 1.3655 0.5549 
## 
## R-optimhess Difference Approximated Hessian Matrix:
##         omega alpha1
## omega  -215.2 -114.4
## alpha1 -114.4 -176.8
## attr(,&quot;time&quot;)
## Time difference of 0.014 secs
## 
## --- END OF TRACE ---
## 
## 
## Time to Estimate Parameters:
##  Time difference of 0.117 secs
</code></pre>

<pre><code>## 
## Title:
##  GARCH Modelling 
## 
## Call:
##  garchFit(formula = ~garch(1, 0), data = y, include.mean = FALSE) 
## 
## Mean and Variance Equation:
##  data ~ garch(1, 0)
## &lt;environment: 0x07651070&gt;
##  [data = y]
## 
## Conditional Distribution:
##  norm 
## 
## Coefficient(s):
##   omega   alpha1  
## 1.36554  0.55489  
## 
## Std. Errors:
##  based on Hessian 
## 
## Error Analysis:
##         Estimate  Std. Error  t value Pr(&gt;|t|)    
## omega    1.36554     0.08417   16.224  &lt; 2e-16 ***
## alpha1   0.55489     0.09287    5.975  2.3e-09 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Log Likelihood:
##  -2208    normalized:  -1.755 
## 
## Description:
##  Tue Apr 23 16:50:29 2013 by user: Z-Q
</code></pre>

<pre><code class="r">garchFit(~garch(4, 0), data = y, include.mean = FALSE)
</code></pre>

<pre><code>## 
## Series Initialization:
##  ARMA Model:                arma
##  Formula Mean:              ~ arma(0, 0)
##  GARCH Model:               garch
##  Formula Variance:          ~ garch(4, 0)
##  ARMA Order:                0 0
##  Max ARMA Order:            0
##  GARCH Order:               4 0
##  Max GARCH Order:           4
##  Maximum Order:             4
##  Conditional Dist:          norm
##  h.start:                   5
##  llh.start:                 1
##  Length of Series:          1258
##  Recursion Init:            mci
##  Series Scale:              1.517
## 
## Parameter Initialization:
##  Initial Parameters:          $params
##  Limits of Transformations:   $U, $V
##  Which Parameters are Fixed?  $includes
##  Parameter Matrix:
##                     U         V params includes
##     mu     -2.045e-16 2.045e-16  0.000    FALSE
##     omega   1.000e-06 1.000e+02  0.100     TRUE
##     alpha1  1.000e-08 1.000e+00  0.025     TRUE
##     alpha2  1.000e-08 1.000e+00  0.025     TRUE
##     alpha3  1.000e-08 1.000e+00  0.025     TRUE
##     alpha4  1.000e-08 1.000e+00  0.025     TRUE
##     gamma1 -1.000e+00 1.000e+00  0.100    FALSE
##     gamma2 -1.000e+00 1.000e+00  0.100    FALSE
##     gamma3 -1.000e+00 1.000e+00  0.100    FALSE
##     gamma4 -1.000e+00 1.000e+00  0.100    FALSE
##     delta   0.000e+00 2.000e+00  2.000    FALSE
##     skew    1.000e-01 1.000e+01  1.000    FALSE
##     shape   1.000e+00 1.000e+01  4.000    FALSE
##  Index List of Parameters to be Optimized:
##  omega alpha1 alpha2 alpha3 alpha4 
##      2      3      4      5      6 
##  Persistence:                  0.1 
## 
## 
## --- START OF TRACE ---
## Selected Algorithm: nlminb 
## 
## R coded nlminb Solver: 
## 
##   0:     2409.5886: 0.100000 0.0250000 0.0250000 0.0250000 0.0250000
##   1:     1634.2681: 0.605504 0.341611 0.493258 0.452004 0.517571
##   2:     1508.9667: 0.177761 0.317173 0.644313 0.562588 0.694749
##   3:     1484.7888: 0.125350 0.297703 0.630150 0.548161 0.680585
##   4:     1483.0467: 0.0293856 0.249943 0.596677 0.514236 0.646238
##   5:     1460.6657: 0.0901598 0.245816 0.594548 0.511509 0.642660
##   6:     1419.9971: 0.0881340 0.237176 0.212690 0.270380 0.536730
##   7:     1412.6610: 0.141853 0.224502 0.219612 0.272670 0.529546
##   8:     1406.2625: 0.116981 0.175002 0.215501 0.270963 0.521647
##   9:     1399.1552: 0.164221 0.0770032 0.221573 0.293958 0.507377
##  10:     1397.1205: 0.111162 0.0815859 0.199592 0.397825 0.316824
##  11:     1391.5523: 0.151695 0.0487936 0.257950 0.367466 0.360498
##  12:     1390.8295: 0.121618 0.0484306 0.307081 0.295438 0.381622
##  13:     1390.4117: 0.142307 0.100555 0.325059 0.280405 0.309105
##  14:     1390.1985: 0.159271 0.0312684 0.276898 0.306367 0.338616
##  15:     1390.1285: 0.121470 0.0573769 0.274604 0.299863 0.329666
##  16:     1388.6310: 0.144747 0.0599697 0.277652 0.301165 0.329622
##  17:     1388.4076: 0.142632 0.0522377 0.277043 0.304677 0.307654
##  18:     1388.2748: 0.143882 0.0564945 0.288840 0.284835 0.310300
##  19:     1388.2715: 0.141054 0.0600232 0.288784 0.285109 0.300287
##  20:     1388.2571: 0.146141 0.0599910 0.290309 0.286269 0.299476
##  21:     1388.2365: 0.143608 0.0588209 0.293842 0.287907 0.296783
##  22:     1388.2352: 0.143808 0.0579819 0.293315 0.287230 0.296642
##  23:     1388.2344: 0.144044 0.0584477 0.292403 0.286684 0.296954
##  24:     1388.2344: 0.143977 0.0583760 0.292362 0.286571 0.296953
##  25:     1388.2344: 0.144066 0.0583770 0.292352 0.286486 0.297046
##  26:     1388.2343: 0.144027 0.0583796 0.292265 0.286326 0.297294
##  27:     1388.2343: 0.144115 0.0583935 0.292171 0.286096 0.297131
##  28:     1388.2343: 0.144081 0.0584085 0.292230 0.285995 0.297129
##  29:     1388.2343: 0.144095 0.0584235 0.292184 0.286010 0.297173
##  30:     1388.2343: 0.144096 0.0584091 0.292194 0.286010 0.297172
##  31:     1388.2343: 0.144095 0.0584118 0.292200 0.286014 0.297162
## 
## Final Estimate of the Negative LLH:
##  LLH:  1913    norm LLH:  1.52 
##   omega  alpha1  alpha2  alpha3  alpha4 
## 0.33172 0.05841 0.29220 0.28601 0.29716 
## 
## R-optimhess Difference Approximated Hessian Matrix:
##          omega  alpha1 alpha2 alpha3 alpha4
## omega  -1256.4  -440.4 -324.6 -348.6 -287.6
## alpha1  -440.4 -2405.5 -257.9 -360.9 -324.8
## alpha2  -324.6  -257.9 -591.2 -156.3 -222.9
## alpha3  -348.6  -360.9 -156.3 -652.8 -156.2
## alpha4  -287.6  -324.8 -222.9 -156.2 -592.5
## attr(,&quot;time&quot;)
## Time difference of 0.147 secs
## 
## --- END OF TRACE ---
## 
## 
## Time to Estimate Parameters:
##  Time difference of 0.536 secs
</code></pre>

<pre><code>## 
## Title:
##  GARCH Modelling 
## 
## Call:
##  garchFit(formula = ~garch(4, 0), data = y, include.mean = FALSE) 
## 
## Mean and Variance Equation:
##  data ~ garch(4, 0)
## &lt;environment: 0x076e0898&gt;
##  [data = y]
## 
## Conditional Distribution:
##  norm 
## 
## Coefficient(s):
##    omega    alpha1    alpha2    alpha3    alpha4  
## 0.331720  0.058412  0.292200  0.286014  0.297162  
## 
## Std. Errors:
##  based on Hessian 
## 
## Error Analysis:
##         Estimate  Std. Error  t value Pr(&gt;|t|)    
## omega    0.33172     0.03285   10.097  &lt; 2e-16 ***
## alpha1   0.05841     0.02198    2.657  0.00789 ** 
## alpha2   0.29220     0.04664    6.266 3.71e-10 ***
## alpha3   0.28601     0.04376    6.536 6.30e-11 ***
## alpha4   0.29716     0.04636    6.410 1.46e-10 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Log Likelihood:
##  -1913    normalized:  -1.52 
## 
## Description:
##  Tue Apr 23 16:50:29 2013 by user: Z-Q
</code></pre>

<pre><code class="r">garchFit(~garch(4, 1), data = y, include.mean = FALSE)
</code></pre>

<pre><code>## 
## Series Initialization:
##  ARMA Model:                arma
##  Formula Mean:              ~ arma(0, 0)
##  GARCH Model:               garch
##  Formula Variance:          ~ garch(4, 1)
##  ARMA Order:                0 0
##  Max ARMA Order:            0
##  GARCH Order:               4 1
##  Max GARCH Order:           4
##  Maximum Order:             4
##  Conditional Dist:          norm
##  h.start:                   5
##  llh.start:                 1
##  Length of Series:          1258
##  Recursion Init:            mci
##  Series Scale:              1.517
## 
## Parameter Initialization:
##  Initial Parameters:          $params
##  Limits of Transformations:   $U, $V
##  Which Parameters are Fixed?  $includes
##  Parameter Matrix:
##                     U         V params includes
##     mu     -2.045e-16 2.045e-16  0.000    FALSE
##     omega   1.000e-06 1.000e+02  0.100     TRUE
##     alpha1  1.000e-08 1.000e+00  0.025     TRUE
##     alpha2  1.000e-08 1.000e+00  0.025     TRUE
##     alpha3  1.000e-08 1.000e+00  0.025     TRUE
##     alpha4  1.000e-08 1.000e+00  0.025     TRUE
##     gamma1 -1.000e+00 1.000e+00  0.100    FALSE
##     gamma2 -1.000e+00 1.000e+00  0.100    FALSE
##     gamma3 -1.000e+00 1.000e+00  0.100    FALSE
##     gamma4 -1.000e+00 1.000e+00  0.100    FALSE
##     beta1   1.000e-08 1.000e+00  0.800     TRUE
##     delta   0.000e+00 2.000e+00  2.000    FALSE
##     skew    1.000e-01 1.000e+01  1.000    FALSE
##     shape   1.000e+00 1.000e+01  4.000    FALSE
##  Index List of Parameters to be Optimized:
##  omega alpha1 alpha2 alpha3 alpha4  beta1 
##      2      3      4      5      6     11 
##  Persistence:                  0.9 
## 
## 
## --- START OF TRACE ---
## Selected Algorithm: nlminb 
## 
## R coded nlminb Solver: 
## 
##   0:     1454.0447: 0.100000 0.0250000 0.0250000 0.0250000 0.0250000 0.800000
##   1:     1421.1372: 0.0859711 0.0243535 0.0248923 0.0249677 0.0252496 0.792899
##   2:     1363.8284: 0.0568752 0.0254567 0.0274169 0.0277607 0.0287641 0.782100
##   3:     1361.7406: 1.00000e-06 0.0535091 0.0686093 0.0724666 0.0790831 0.744097
##   4:     1326.5003: 0.0262444 0.0545103 0.0698955 0.0739075 0.0808466 0.746825
##   5:     1306.3077: 0.0171893 1.00000e-08 0.0295200 0.0475685 0.0596863 0.814206
##   6:     1303.6136: 0.0155295 1.00000e-08 0.0334227 0.0646853 0.0870203 0.802417
##   7:     1302.8752: 0.0124800 1.00000e-08 0.0325557 0.0638882 0.0862444 0.801591
##   8:     1302.5268: 0.0137285 1.00000e-08 0.0304067 0.0631009 0.0859054 0.803840
##   9:     1302.2210: 0.0131067 1.00000e-08 0.0257736 0.0610495 0.0844557 0.808281
##  10:     1302.1166: 0.0142083 1.00000e-08 0.0246580 0.0605445 0.0801468 0.813439
##  11:     1301.9123: 0.0130200 1.00000e-08 0.0233028 0.0607878 0.0750261 0.817723
##  12:     1301.8691: 0.0132720 1.00000e-08 0.0197157 0.0596741 0.0808318 0.817645
##  13:     1301.8157: 0.0127305 1.00000e-08 0.0285859 0.0524468 0.0746367 0.822330
##  14:     1301.7625: 0.0107783 1.00000e-08 0.0259073 0.0627508 0.0684135 0.828300
##  15:     1301.7211: 0.0113005 1.00000e-08 0.0258069 0.0626756 0.0683645 0.828357
##  16:     1301.6968: 0.0111292 1.00000e-08 0.0254756 0.0623912 0.0681249 0.828228
##  17:     1301.6697: 0.0115587 1.00000e-08 0.0249348 0.0618267 0.0687064 0.828434
##  18:     1301.6345: 0.0112946 1.00000e-08 0.0239627 0.0605500 0.0701205 0.828677
##  19:     1301.5690: 0.0115151 1.00000e-08 0.0207939 0.0594502 0.0719591 0.830710
##  20:     1301.5548: 0.0111579 1.00000e-08 0.0200001 0.0619979 0.0687002 0.831683
##  21:     1301.5405: 0.0112880 1.00000e-08 0.0192838 0.0642931 0.0655428 0.833429
##  22:     1301.5093: 0.0109835 1.00000e-08 0.0195059 0.0576699 0.0715898 0.834873
##  23:     1301.5062: 0.0108777 1.00000e-08 0.0194466 0.0576190 0.0715383 0.834848
##  24:     1301.5046: 0.0109821 1.00000e-08 0.0193820 0.0575710 0.0714900 0.834878
##  25:     1301.5016: 0.0108989 1.00000e-08 0.0192794 0.0575799 0.0713067 0.835054
##  26:     1301.4753: 0.0105717 1.00000e-08 0.0183692 0.0585168 0.0681855 0.838863
##  27:     1301.4751: 0.0106026 1.00000e-08 0.0138868 0.0587259 0.0700663 0.840407
##  28:     1301.4640: 0.0102893 1.00000e-08 0.0169715 0.0569871 0.0665746 0.842948
##  29:     1301.4630: 0.0103454 1.00000e-08 0.0176236 0.0572678 0.0667403 0.842040
##  30:     1301.4629: 0.0103324 1.00000e-08 0.0174860 0.0572276 0.0667049 0.842216
##  31:     1301.4629: 0.0103331 1.00000e-08 0.0174900 0.0572204 0.0667014 0.842220
## 
## Final Estimate of the Negative LLH:
##  LLH:  1826    norm LLH:  1.451 
##     omega    alpha1    alpha2    alpha3    alpha4     beta1 
## 2.379e-02 1.000e-08 1.749e-02 5.722e-02 6.670e-02 8.422e-01 
## 
## R-optimhess Difference Approximated Hessian Matrix:
##         omega alpha1 alpha2 alpha3 alpha4  beta1
## omega  -79440 -25971 -25061 -25037 -25579 -39015
## alpha1 -25971 -24164 -21673 -20632 -20287 -23003
## alpha2 -25061 -21673 -22052 -20738 -20482 -23098
## alpha3 -25037 -20632 -20738 -20672 -20079 -22858
## alpha4 -25579 -20287 -20482 -20079 -20621 -23197
## beta1  -39015 -23003 -23098 -22858 -23197 -29762
## attr(,&quot;time&quot;)
## Time difference of 0.207 secs
## 
## --- END OF TRACE ---
## 
## 
## Time to Estimate Parameters:
##  Time difference of 0.62 secs
</code></pre>

<pre><code>## 
## Title:
##  GARCH Modelling 
## 
## Call:
##  garchFit(formula = ~garch(4, 1), data = y, include.mean = FALSE) 
## 
## Mean and Variance Equation:
##  data ~ garch(4, 1)
## &lt;environment: 0x07147024&gt;
##  [data = y]
## 
## Conditional Distribution:
##  norm 
## 
## Coefficient(s):
##      omega      alpha1      alpha2      alpha3      alpha4       beta1  
## 0.02378770  0.00000001  0.01748996  0.05722037  0.06670140  0.84222003  
## 
## Std. Errors:
##  based on Hessian 
## 
## Error Analysis:
##         Estimate  Std. Error  t value Pr(&gt;|t|)    
## omega  2.379e-02   7.351e-03    3.236  0.00121 ** 
## alpha1 1.000e-08   1.899e-02    0.000  1.00000    
## alpha2 1.749e-02   3.321e-02    0.527  0.59840    
## alpha3 5.722e-02   3.738e-02    1.531  0.12585    
## alpha4 6.670e-02   3.626e-02    1.839  0.06586 .  
## beta1  8.422e-01   2.666e-02   31.589  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Log Likelihood:
##  -1826    normalized:  -1.451 
## 
## Description:
##  Tue Apr 23 16:50:30 2013 by user: Z-Q
</code></pre>

<pre><code class="r">garchFit(~garch(1, 1), data = y, include.mean = FALSE)
</code></pre>

<pre><code>## 
## Series Initialization:
##  ARMA Model:                arma
##  Formula Mean:              ~ arma(0, 0)
##  GARCH Model:               garch
##  Formula Variance:          ~ garch(1, 1)
##  ARMA Order:                0 0
##  Max ARMA Order:            0
##  GARCH Order:               1 1
##  Max GARCH Order:           1
##  Maximum Order:             1
##  Conditional Dist:          norm
##  h.start:                   2
##  llh.start:                 1
##  Length of Series:          1258
##  Recursion Init:            mci
##  Series Scale:              1.517
## 
## Parameter Initialization:
##  Initial Parameters:          $params
##  Limits of Transformations:   $U, $V
##  Which Parameters are Fixed?  $includes
##  Parameter Matrix:
##                     U         V params includes
##     mu     -2.045e-16 2.045e-16    0.0    FALSE
##     omega   1.000e-06 1.000e+02    0.1     TRUE
##     alpha1  1.000e-08 1.000e+00    0.1     TRUE
##     gamma1 -1.000e+00 1.000e+00    0.1    FALSE
##     beta1   1.000e-08 1.000e+00    0.8     TRUE
##     delta   0.000e+00 2.000e+00    2.0    FALSE
##     skew    1.000e-01 1.000e+01    1.0    FALSE
##     shape   1.000e+00 1.000e+01    4.0    FALSE
##  Index List of Parameters to be Optimized:
##  omega alpha1  beta1 
##      2      3      5 
##  Persistence:                  0.9 
## 
## 
## --- START OF TRACE ---
## Selected Algorithm: nlminb 
## 
## R coded nlminb Solver: 
## 
##   0:     1464.0419: 0.100000 0.100000 0.800000
##   1:     1408.6500: 0.0719156 0.100213 0.787311
##   2:     1371.3860: 0.0423929 0.108386 0.783937
##   3:     1326.9183: 0.0170660 0.159354 0.818348
##   4:     1326.5107: 0.0156579 0.159291 0.819245
##   5:     1325.5213: 0.0158487 0.159859 0.825903
##   6:     1323.3669: 0.0107953 0.152760 0.836042
##   7:     1320.9185: 0.0114416 0.145853 0.847471
##   8:     1317.8373: 0.00627024 0.128548 0.871830
##   9:     1315.7510: 0.00819318 0.105307 0.891214
##  10:     1313.4134: 0.00598171 0.0915625 0.896114
##  11:     1312.9120: 0.00688092 0.0806210 0.905978
##  12:     1312.4148: 0.00518630 0.0796297 0.911382
##  13:     1312.4071: 0.00528744 0.0796547 0.911406
##  14:     1312.4063: 0.00524914 0.0797544 0.911413
##  15:     1312.4050: 0.00529620 0.0799133 0.911278
##  16:     1312.4035: 0.00528258 0.0800567 0.911120
##  17:     1312.4009: 0.00533692 0.0804867 0.910677
##  18:     1312.3997: 0.00531799 0.0810074 0.910341
##  19:     1312.3995: 0.00537938 0.0813059 0.909801
##  20:     1312.3991: 0.00536138 0.0811762 0.910024
##  21:     1312.3991: 0.00536052 0.0811727 0.910029
##  22:     1312.3991: 0.00536061 0.0811730 0.910028
## 
## Final Estimate of the Negative LLH:
##  LLH:  1837    norm LLH:  1.46 
##   omega  alpha1   beta1 
## 0.01234 0.08117 0.91003 
## 
## R-optimhess Difference Approximated Hessian Matrix:
##          omega alpha1   beta1
## omega  -242329 -79509 -117673
## alpha1  -79509 -64620  -72787
## beta1  -117673 -72787  -94188
## attr(,&quot;time&quot;)
## Time difference of 0.03 secs
## 
## --- END OF TRACE ---
## 
## 
## Time to Estimate Parameters:
##  Time difference of 0.151 secs
</code></pre>

<pre><code>## 
## Title:
##  GARCH Modelling 
## 
## Call:
##  garchFit(formula = ~garch(1, 1), data = y, include.mean = FALSE) 
## 
## Mean and Variance Equation:
##  data ~ garch(1, 1)
## &lt;environment: 0x076c63b4&gt;
##  [data = y]
## 
## Conditional Distribution:
##  norm 
## 
## Coefficient(s):
##    omega    alpha1     beta1  
## 0.012341  0.081173  0.910028  
## 
## Std. Errors:
##  based on Hessian 
## 
## Error Analysis:
##         Estimate  Std. Error  t value Pr(&gt;|t|)    
## omega   0.012341    0.003542    3.484 0.000494 ***
## alpha1  0.081173    0.011952    6.791 1.11e-11 ***
## beta1   0.910028    0.012190   74.656  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Log Likelihood:
##  -1837    normalized:  -1.46 
## 
## Description:
##  Tue Apr 23 16:50:30 2013 by user: Z-Q
</code></pre>

<pre><code class="r">garchFit(~garch(1, 1), data = y, include.mean = FALSE, cond.dist = &quot;std&quot;, trace = F)
</code></pre>

<pre><code>## 
## Title:
##  GARCH Modelling 
## 
## Call:
##  garchFit(formula = ~garch(1, 1), data = y, cond.dist = &quot;std&quot;, 
##     include.mean = FALSE, trace = F) 
## 
## Mean and Variance Equation:
##  data ~ garch(1, 1)
## &lt;environment: 0x076e4a28&gt;
##  [data = y]
## 
## Conditional Distribution:
##  std 
## 
## Coefficient(s):
##     omega     alpha1      beta1      shape  
## 0.0071921  0.0841405  0.9147936  6.8134599  
## 
## Std. Errors:
##  based on Hessian 
## 
## Error Analysis:
##         Estimate  Std. Error  t value Pr(&gt;|t|)    
## omega   0.007192    0.003714    1.936   0.0528 .  
## alpha1  0.084140    0.014820    5.677 1.37e-08 ***
## beta1   0.914794    0.013652   67.006  &lt; 2e-16 ***
## shape   6.813460    1.376231    4.951 7.39e-07 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Log Likelihood:
##  -1813    normalized:  -1.441 
## 
## Description:
##  Tue Apr 23 16:50:31 2013 by user: Z-Q
</code></pre>

<pre><code class="r">res = garchFit(~garch(1, 1), data = y, include.mean = FALSE, cond.dist = &quot;sstd&quot;, 
    trace = F)  # saves output to res
plot(res)  # shows various graphical analysis
</code></pre>

<pre><code>## Error: menu() cannot be used non-interactively
</code></pre>

<h1>5风险预测实施</h1>

<p>包含VaR和ES两个风险变预测手段，又分为非参数与参数估计的两种方法</p>

<h2>5.1应用</h2>

<p>HS&ndash;历史模拟
第\( p*T \)个顺序观测值就是我们所需要的预测风险值，\( p*T \)需要时整数，则实际操作的时候需要将样本量进行删除。</p>

<h2>5.2历史模拟</h2>

<h3>5.2.1预期缺口估计（ES）</h3>

<p>比-VaR值小的值的平均值</p>

<h3>5.2.2\( W_E \)(window size)</h3>

<p>大\( W_E \)的优缺点：</p>

<ul>
<li>优点：VaR对个别极端值不敏感</li>
<li>缺点：旧数据对当前市场不具代表性</li>
</ul>

<pre><code class="r">library(&quot;tseries&quot;)  # time series library
# the two prices are downloaded separately
library(zoo)
p1 = get.hist.quote(instrument = &quot;msft&quot;, start = &quot;2000-01-01&quot;, end = &quot;2009-12-31&quot;, 
    quote = &quot;AdjClose&quot;)
</code></pre>

<pre><code>## time series starts 2000-01-03
</code></pre>

<pre><code class="r">p2 = get.hist.quote(instrument = &quot;ibm&quot;, start = &quot;2000-01-01&quot;, end = &quot;2009-12-31&quot;, 
    quote = &quot;AdjClose&quot;)
</code></pre>

<pre><code>## time series starts 2000-01-03
</code></pre>

<pre><code class="r">y1 = coredata(diff(log(p1)))  # convert prices to returns
y2 = coredata(diff(log(p2)))
y1 = tail(y1, T - 14)  # length adjustment
y2 = tail(y2, T - 14)
T = length(y1)
value = 1000  # portfolio value
y = cbind(y1, y2)  # combine returns in one matrix
p = 0.01  # probability
ys = sort(y1)  # sort returns
op = T * p  # p % smallest
VaR1 = -ys[op] * value  # VaR number
</code></pre>

<pre><code class="r">w = matrix(c(0.3, 0.7))  # vector of portfolio weights
yp = y %*% w  # obtain portfolio returns
yps = sort(yp)
VaR2 = -yps[op] * value  # VaR number
</code></pre>

<p>收益率是正态分布时候的VaR
单变量</p>

<pre><code class="r">sigma = sd(y1)  # estimate the volatility
VaR3 = -sigma * qnorm(p) * value  # calculate the VaR
</code></pre>

<p>多变量</p>

<pre><code class="r">sigma1 = sqrt(t(w) %*% cov(y) %*% w)  # portfolio volatility
VaR4 = -sigma1 * qnorm(p) * value
</code></pre>

<p>收益率是t分布时候的VaR</p>

<pre><code class="r">library(QRM)
</code></pre>

<pre><code>## Loading required package: gsl
</code></pre>

<pre><code>## Loading required package: Matrix
</code></pre>

<pre><code>## Loading required package: lattice
</code></pre>

<pre><code>## Loading required package: mvtnorm
</code></pre>

<pre><code>## Loading required package: numDeriv
</code></pre>

<pre><code>## Attaching package: &#39;QRM&#39;
</code></pre>

<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
## lbeta
</code></pre>

<pre><code class="r">scy1 = (y1) * 100  # scale the returns
res = fit.st(scy1)  # estimate the distribution parameters
sigma = res$par.ests[3]/100  # rescale the volatility
nu = res$par.ests[1]  # extract the degrees of freedom
VaR5 = -sigma * qt(df = nu, p = p) * value  # calculates the VaR
</code></pre>

<p>5.3.4 正态分布下的ES</p>

<pre><code class="r">ES2 = sigma * dnorm(qnorm(p))/p * value
</code></pre>

<pre><code class="r">VaR = -qnorm(p)
integrand = function(q) {
    q * dnorm(q)
}
ES = -sigma * integrate(integrand, -Inf, -VaR)$value/p * value
</code></pre>

<h1>6期权和债券的VaR的分析</h1>

<p>在第五章里讲的VaR分析是针对资产的VaR分析，这是只要知道资产的分布是什么就可以了，但是这个资产是不包括期权和债券的，因为他们本质的价值随时间的变化而改变。</p>

<h2>6.1债券</h2>

<p>债券的价格计算公式如下：
\[ P=g\left(r,t \right)=\sum_{1}^{T}\frac{\tau _t}{{1+r}^{t}} \]
r与P不是呈线性变化的</p>

</body>

</html>

